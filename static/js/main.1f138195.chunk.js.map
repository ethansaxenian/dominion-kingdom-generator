{"version":3,"sources":["styles/Selector.module.css","styles/CardsDisplay.module.css","images/logo.png","lib/constants.js","lib/utils.js","components/CardsDisplay.js","components/SearchBar.js","components/CardSearcher.js","components/NavBar.js","components/Selector.js","components/KingdomSettings.js","components/KingdomDisplay.js","components/ModalAlert.js","components/GenerateButton.js","components/KingdomGenerator.js","App.js","index.js"],"names":["module","exports","EXPANSIONS","PROMOS","NON_SUPPLY_TYPES","CARD_SHAPED_TYPES","BASIC_CARDS","SECONDARY_CARDS","CARDS_TO_REMOVE","ORIGINAL_BASE_CARDS","BASE_2_CARDS","ORIGINAL_INTRIGUE_CARDS","INTRIGUE_2_CARDS","isValidKingdomCard","card","onlyRandomizers","in_supply","types","every","type","includes","name","sortTwoCards","card1","card2","sortBy","first","second","parseInt","coins","potions","debt","slice","arrayIncludesCard","array","map","obj","toLowerCase","arrayIncludesCardName","drawCards","cards","num","predicate","_","sampleSize","filter","youngWitchPredicate","addExtraCards","kingdom","landscapes","availableCards","newCards","bane","notInKingdom","push","wotm","hasValidExpansion","expansions","expansion","generateBlackMarket","promos","blackMarketOptions","some","CardsDisplay","data","swapCard","cardWidth","Card","href","link","target","rel","Figure","Image","width","src","img","alt","Body","Text","Button","size","variant","onClick","className","styles","cardsList","SearchBar","searchTerm","setSearchTerm","setSortBy","Row","Col","xs","span","offset","sm","md","lg","Form","Control","value","placeholder","onChange","event","InputGroup","CardSearcher","useState","sortedCards","cost","text","parsedTerm","toString","sort","NavBar","page","setPage","Navbar","bg","style","margin","Nav","Item","Link","active","eventKey","onSelect","Selector","toggle","options","adjustAmts","expansionAmts","setExpansionAmts","selectors","option","Check","label","min","max","selector","Accordion","Toggle","as","Header","header","Collapse","KingdomSettings","toggleExpansion","togglePromo","KingdomDisplay","swapLandscape","usePlatinumColony","platinumColony","blackMarketDeck","setBlackMarketDeck","useEffect","supply","length","oldCard","newOptions","console","log","newBMDeck","newCard","ModalAlert","onClose","Modal","show","onHide","Alert","textAlign","Footer","GenerateButton","generateKingdom","alert","setAlert","KingdomGenerator","setKingdom","setLandScapes","setExpansions","setPromos","setUsePlatinumColony","fromPairs","availableLandscapes","isLandscape","remainingCards","remainingLandscapes","generateKingdomFromRules","extraExpansions","toPairs","forEach","exp","amt","leftovers","concat","a","b","promo","sum","newKingdom","newLandscapes","sample","marginTop","marginBottom","combinations","App","logo","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1f138195.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"selector\":\"Selector_selector__3Xp1h\",\"header\":\"Selector_header__2k5aN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardsList\":\"CardsDisplay_cardsList__2_Zay\"};","export default __webpack_public_path__ + \"static/media/logo.a24bb60e.png\";","export const EXPANSIONS = ['Adventures', 'Alchemy', 'Base', 'Base 1st Edition', 'Cornucopia', 'Dark Ages', 'Empires', 'Guilds', 'Hinterlands', 'Intrigue', 'Intrigue 1st Edition', 'Menagerie', 'Nocturne', 'Prosperity', 'Renaissance', 'Seaside'];\n\nexport const PROMOS = ['Black Market', 'Captain', 'Church', 'Dismantle', 'Envoy', 'Governor', 'Prince', 'Sauna', 'Stash', 'Summon', 'Walled Village'];\n\nexport const TYPES = ['Action', 'Artifact', 'Attack', 'Boon', 'Castle', 'Command', 'Curse', 'Doom', 'Duration', 'Event', 'Fate', 'Gathering', 'Heirloom', 'Hex', 'Knight', 'Landmark', 'Looter', 'Night', 'Prize', 'Project', 'Reaction', 'Reserve', 'Ruins', 'Shelter', 'Spirit', 'State', 'Traveller', 'Treasure', 'Victory', 'Way', 'Zombie'];\n\nexport const SUPPLY_TYPES = [ 'Action', 'Attack', 'Castle', 'Command', 'Curse', 'Doom', 'Duration', 'Fate', 'Gathering', 'Knight', 'Looter', 'Night', 'Reaction', 'Reserve', 'Ruins', 'Traveller', 'Treasure', 'Victory'];\n\nexport const NON_SUPPLY_TYPES = ['Artifact', 'Boon', 'Curse', 'Event', 'Heirloom', 'Hex', 'Landmark', 'Prize', 'Project', 'Ruins', 'Shelter', 'State', 'Way', 'Zombie'];\n\nexport const CARD_SHAPED_TYPES = ['Event', 'Landmark', 'Project', 'Way'];\n\nexport const BASIC_CARDS = ['Copper', 'Silver', 'Gold', 'Estate', 'Duchy', 'Province', 'Curse'];\n\nexport const SECONDARY_CARDS = ['Platinum', 'Colony', 'Potion'];\n\n// Dame Anna and Humble Castle represent Knights and Castles\nexport const CARDS_TO_REMOVE = ['Avanto', 'Dame Josephine', 'Dame Molly', 'Dame Natalie', 'Dame Sylvia', 'Sir Bailey', 'Sir Destry', 'Sir Martin', 'Sir Michael', 'Sir Vander', 'Rocks', 'Bustling Village', 'Emporium', 'Plunder', 'Fortune', 'Crumbling Castle', 'Small Castle', 'Haunted Castle', 'Opulent Castle', 'Sprawling Castle', 'Grand Castle', \"King's Castle\", ...BASIC_CARDS, ...SECONDARY_CARDS];\n\nexport const ORIGINAL_BASE_CARDS = ['Chancellor', 'Woodcutter', 'Thief', 'Spy', 'Feast', 'Adventurer'];\n\nexport const BASE_2_CARDS = ['Harbinger', 'Merchant', 'Vassal', 'Poacher', 'Bandit', 'Sentry', 'Artisan'];\n\nexport const ORIGINAL_INTRIGUE_CARDS = ['Secret Chamber', 'Great Hall', 'Coppersmith', 'Scout', 'Saboteur', 'Tribute'];\n\nexport const INTRIGUE_2_CARDS = ['Lurker', 'Diplomat', 'Mill', 'Secret Passage', 'Courtier', 'Patrol', 'Replace'];\n","import _ from \"lodash\";\nimport { BASE_2_CARDS, BASIC_CARDS, CARDS_TO_REMOVE, CARD_SHAPED_TYPES, INTRIGUE_2_CARDS, NON_SUPPLY_TYPES, ORIGINAL_BASE_CARDS, ORIGINAL_INTRIGUE_CARDS, SECONDARY_CARDS } from \"./constants\";\n\nexport const isValidKingdomCard = (card, onlyRandomizers) =>\n  card.in_supply\n  && card.types.every((type) => !NON_SUPPLY_TYPES.includes(type))\n  && (onlyRandomizers ? !CARDS_TO_REMOVE.includes(card.name) : true);\n\nexport const isLandscape = (card) => card.types.every((type) => CARD_SHAPED_TYPES.includes(type));\n\nexport const sortTwoCards = (card1, card2, sortBy) => {\n  let first = card1[sortBy];\n  let second = card2[sortBy];\n  if (sortBy === 'cost') {\n    first = parseInt(`${card1.coins ? card1.coins : ''}${card1.potions ? 100 : ''}${card1.debt ? card1.debt.slice(0, -1) + '00000' : ''}` || 0)\n    second = parseInt(`${card2.coins ? card2.coins : ''}${card2.potions ? 100 : ''}${card2.debt ? card2.debt.slice(0, -1) + '00000' : ''}` || 0)\n  }\n  if (first < second) {\n    return -1;\n  } else if (first === second) {\n    return 0;\n  }\n  return 1;\n}\n\nexport const arrayIncludesCard = (array, card) => array.map((obj) => obj.name.toLowerCase()).includes(card.name.toLowerCase());\n\nexport const arrayIncludesCardName = (array, name) => array.map((card) => card.name.toLowerCase()).includes(name.toLowerCase());\n\nexport const drawCards = (cards, num, predicate) => _.sampleSize(predicate ? cards.filter((card) => predicate(card)) : cards, num);\n\nexport const youngWitchPredicate = (card) => ((card.coins === 2) || (card.coins === 3)) && !card.potions && !card.debt;\n\nexport const addExtraCards = (kingdom, landscapes, availableCards) => {\n  const newCards = kingdom;\n  if (arrayIncludesCardName(newCards, 'Young Witch') && kingdom.every((card) => !card.bane)) {\n    const notInKingdom = availableCards.filter((card) => !arrayIncludesCard(newCards, card));\n    const [bane] = drawCards(notInKingdom, 1, youngWitchPredicate);\n    bane && newCards.push({...bane, bane: true});\n  }\n  if (arrayIncludesCardName(landscapes, 'Way of the Mouse')  && kingdom.every((card) => !card.wotm)) {\n    const notInKingdom = availableCards.filter((card) => !arrayIncludesCard(newCards, card));\n    const [wotm] = drawCards(notInKingdom, 1, youngWitchPredicate);\n    wotm && newCards.push({...wotm, wotm: true});\n  }\n  return newCards\n}\n\nexport const hasValidExpansion = (card, expansions) => {\n  if (ORIGINAL_BASE_CARDS.includes(card.name)) {\n    return expansions.includes('Base 1st Edition')\n  } else if (BASE_2_CARDS.includes(card.name)) {\n    return expansions.includes('Base')\n  } else if (card.expansion === 'Base') {\n    return expansions.includes('Base') || expansions.includes('Base 1st Edition')\n  } else if (ORIGINAL_INTRIGUE_CARDS.includes(card.name)) {\n    return expansions.includes('Intrigue 1st Edition')\n  } else if (INTRIGUE_2_CARDS.includes(card.name)) {\n    return expansions.includes('Intrigue')\n  } else if (card.expansion === 'Intrigue') {\n    return expansions.includes('Intrigue') || expansions.includes('Intrigue 1st Edition')\n  } else {\n    return expansions.includes(card.expansion)\n  }\n}\n\nexport const generateBlackMarket = (cards, kingdom, promos, expansions) => {\n  if (!arrayIncludesCardName(kingdom, 'Black Market')) {\n    return [];\n  }\n  const blackMarketOptions = cards.filter((card) =>\n    isValidKingdomCard(card, false)\n    && (hasValidExpansion(card, expansions) || promos.includes(card.name))\n    && ![...BASIC_CARDS, ...SECONDARY_CARDS].includes(card.name)\n    && !arrayIncludesCard(kingdom, card));\n  if (!kingdom.some((card) => card.potions)) {\n    return blackMarketOptions.filter((card) => !card.potions)\n  }\n  return blackMarketOptions;\n}\n","import styles from '../styles/CardsDisplay.module.css';\nimport { Button, Card, Figure } from 'react-bootstrap';\n\nexport default function CardsDisplay({ data, swapCard, cardWidth }) {\n  const cards = data.map((card) => (\n    <li key={card.name}>\n      <Card>\n        <a href={card.link} target=\"_blank\" rel=\"noopener noreferrer\">\n          <Figure.Image width={cardWidth} src={card.img} alt={card.name}/>\n        </a>\n        <Card.Body>\n          {card.bane && <Card.Text>Bane Card</Card.Text>}\n          {card.wotm && <Card.Text>Way of the Mouse</Card.Text>}\n          {swapCard && <Button size=\"sm\" variant=\"danger\" onClick={() => swapCard(card)}>Swap</Button>}\n        </Card.Body>\n      </Card>\n    </li>\n  ));\n\n  return (\n    <ul className={styles.cardsList}>{cards}</ul>\n  )\n}\n","import { Col, Form, InputGroup, Row } from \"react-bootstrap\";\n\nexport default function SearchBar({ searchTerm, setSearchTerm, sortBy, setSortBy }) {\n  return (\n    <Row>\n      <Col\n        xs={{span: \"auto\", offset: 1}}\n        sm={{span: \"auto\", offset: 2}}\n        md={{span: \"auto\", offset: 3}}\n        lg={{span: \"auto\", offset: 4}}\n      >\n        <Form.Control\n          value={searchTerm}\n          placeholder=\"Search\"\n          onChange={(event) => setSearchTerm(event.target.value)}\n        />\n      </Col>\n      <Col>\n        <InputGroup>\n          <InputGroup.Text>Sort by: </InputGroup.Text>\n          <select value={sortBy} onChange={(event) => setSortBy(event.target.value)}>\n            <option value=\"name\">Name</option>\n            <option value=\"expansion\">Expansion</option>\n            <option value=\"cost\">Cost</option>\n          </select>\n        </InputGroup>\n      </Col>\n    </Row>\n  )\n}\n","import { useState } from \"react\";\nimport { sortTwoCards } from \"../lib/utils\";\nimport CardsDisplay from \"./CardsDisplay\";\nimport SearchBar from \"./SearchBar\";\n\nexport default function CardSearcher({ cards }) {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sortBy, setSortBy] = useState('name');\n\n  const filteredCards = cards.filter(({ name, expansion, types, cost, text }) => {\n    const parsedTerm = searchTerm.toLowerCase();\n    return ((name.toLowerCase().includes(parsedTerm)\n    || expansion.toLowerCase().includes(parsedTerm)\n    || types.some((type) => type.toLowerCase().includes(parsedTerm))\n    || (cost && (\n      (cost.coins && cost.coins.toString().includes(parsedTerm))\n      || (cost.potions && cost.potions.includes(parsedTerm))\n      || (cost.debt && cost.debt.includes(parsedTerm))\n    ))\n    || text.toLowerCase().includes(parsedTerm)))\n  });\n\n  const sortedCards = filteredCards.sort((card1, card2) => sortTwoCards(card1, card2, sortBy))\n\n  return (\n    <>\n      <SearchBar\n        searchTerm={searchTerm}\n        setSearchTerm={setSearchTerm}\n        sortBy={sortBy}\n        setSortBy={setSortBy}\n      />\n      <br/>\n      <CardsDisplay data={sortedCards}/>\n    </>\n  )\n}\n","import { Nav, Navbar } from \"react-bootstrap\";\n\nexport default function NavBar({ page, setPage }) {\n  return (\n    <Navbar variant=\"light\" bg=\"light\" style={{width: \"50%\", margin: \"auto\"}}>\n      <Nav variant=\"tabs\" className=\"m-auto\">\n        <Nav.Item>\n          <Nav.Link\n            active={page === 'generate'}\n            eventKey=\"key-2\"\n            onSelect={() => setPage('generate')}\n          >\n            Kingdom Generator\n          </Nav.Link>\n        </Nav.Item>\n        <Nav.Item>\n          <Nav.Link\n            active={page === 'browse'}\n            eventKey=\"key-1\"\n            onSelect={() => setPage('browse')}\n          >\n            Browse Cards\n          </Nav.Link>\n        </Nav.Item>\n      </Nav>\n    </Navbar>\n  )\n}\n","import { Accordion, Card, Col, Form, Row } from \"react-bootstrap\";\nimport styles from \"../styles/Selector.module.css\";\n\nexport default function Selector({ toggle, options, name, adjustAmts, expansionAmts, setExpansionAmts }) {\n  const selectors = options.map((option) =>\n    <li key={option} style={{margin: 5}}>\n      <Row>\n        <Col>\n          <Form.Check\n            type=\"checkbox\"\n            label={option}\n            onClick={() => toggle(option)}\n          />\n        </Col>\n        <Col xs=\"10\" sm=\"8\" md=\"4\" lg=\"3\">\n          {adjustAmts && (\n            <Form.Control\n              min=\"0\"\n              max=\"10\"\n              type=\"number\"\n              value={expansionAmts[option]}\n              onChange={(event) => setExpansionAmts({...expansionAmts, [option]: event.target.value})}\n            />\n          )}\n        </Col>\n      </Row>\n    </li>\n  );\n\n  return (\n    <Card className={styles.selector}>\n      <Accordion.Toggle as={Card.Header} eventKey={name} className={styles.header}>\n        Select {name}\n      </Accordion.Toggle>\n      <Accordion.Collapse eventKey={name}>\n        <ul>{selectors}</ul>\n      </Accordion.Collapse>\n    </Card>\n  )\n}\n","import { Accordion } from \"react-bootstrap\";\nimport { EXPANSIONS, PROMOS } from \"../lib/constants\";\nimport Selector from \"./Selector\";\n\nexport default function KingdomSettings({ toggleExpansion, togglePromo, expansionAmts, setExpansionAmts }) {\n\n  return (\n    <>\n      <Accordion>\n        <Selector\n          toggle={toggleExpansion}\n          options={EXPANSIONS}\n          name=\"Expansions\"\n          adjustAmts\n          expansionAmts={expansionAmts}\n          setExpansionAmts={setExpansionAmts}\n        />\n      </Accordion>\n      <Accordion>\n        <Selector toggle={togglePromo} options={PROMOS} name=\"Promos\"/>\n      </Accordion>\n    </>\n  )\n}\n","import _ from \"lodash\";\nimport { min } from \"mathjs\";\nimport { useEffect, useState } from \"react\";\nimport { Button, Col, Row } from \"react-bootstrap\";\nimport { arrayIncludesCard, arrayIncludesCardName, drawCards, sortTwoCards } from \"../lib/utils\";\nimport CardsDisplay from \"./CardsDisplay\";\n\nexport default function KingdomDisplay({ kingdom, landscapes, swapCard, swapLandscape, usePlatinumColony, platinumColony, blackMarketOptions }) {\n  const [blackMarketDeck, setBlackMarketDeck] = useState([]);\n\n  useEffect(() => {\n    if (!arrayIncludesCardName(kingdom, 'Black Market')) {\n      setBlackMarketDeck([]);\n    }\n  }, [kingdom]);\n\n  const generateBlackMarketDeck = () => {\n    setBlackMarketDeck(_.sampleSize(blackMarketOptions, min(blackMarketOptions.length, 10)));\n  }\n\n  const swapBMCard = (oldCard) => {\n    const newOptions = blackMarketOptions.filter((card) => !arrayIncludesCard(blackMarketDeck, card));\n    console.log(newOptions)\n    if (newOptions.length > 0) {\n      const newBMDeck = blackMarketDeck.filter((card) => card.name !== oldCard.name);\n      const [newCard] = drawCards(newOptions, 1);\n      console.log(newCard);\n      setBlackMarketDeck([...newBMDeck, newCard]);\n    }\n  }\n\n  const [wotm] = kingdom.filter((card) => card.wotm);\n  const supply = kingdom.filter((card) => card !== wotm);\n\n  return (\n    <>\n      <CardsDisplay data={supply.sort((card1, card2) => sortTwoCards(card1, card2, 'cost'))} swapCard={swapCard} cardWidth={170}/>\n      <Row>\n        {(landscapes.length > 0) && (\n          <Col>\n            <CardsDisplay data={landscapes.sort((card1, card2) => sortTwoCards(card1, card2, 'name'))} swapCard={swapLandscape} cardWidth={300}/>\n          </Col>\n        )}\n        {usePlatinumColony && (\n          <Col>\n            <CardsDisplay data={platinumColony} cardWidth={150}/>\n          </Col>\n        )}\n        {wotm && (\n          <Col>\n            <CardsDisplay data={[wotm]} swapCard={swapCard} cardWidth={150}/>\n          </Col>\n        )}\n      </Row>\n      <br/>\n      {arrayIncludesCardName(kingdom, 'Black Market') && (\n        <>\n          <Button onClick={() => generateBlackMarketDeck()}>Generate Black Market Deck</Button>\n          {(blackMarketDeck.length > 0) && (\n            <>\n              <br/>\n              <br/>\n              <CardsDisplay\n                data={blackMarketDeck.sort((card1, card2) => sortTwoCards(card1, card2, 'name'))}\n                swapCard={swapBMCard}\n                cardWidth={170}\n              />\n            </>\n          )}\n        </>\n      )}\n    </>\n  )\n}\n","import { Alert, Button, Modal } from \"react-bootstrap\";\n\nexport default function ModalAlert({ text, onClose }) {\n  return (\n    <Modal show={text !== ''} onHide={() => onClose()}>\n      <Modal.Body><Alert variant=\"danger\" style={{textAlign: 'center'}}>{text}</Alert></Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"secondary\" onClick={() => onClose()}>\n          Close\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  )\n}\n","import { Button } from \"react-bootstrap\";\nimport ModalAlert from \"./ModalAlert\";\n\nexport default function GenerateButton({ generateKingdom, alert, setAlert}) {\n  return (\n    <>\n      <Button variant=\"success\" onClick={() => generateKingdom()}>Generate Kingdom!</Button>\n      <ModalAlert text={alert} onClose={() => setAlert('')}/>\n    </>\n  )\n}\n","import { useState } from \"react\";\nimport { addExtraCards, arrayIncludesCard, drawCards, generateBlackMarket, hasValidExpansion, isLandscape, isValidKingdomCard, sortTwoCards } from \"../lib/utils\";\nimport { Alert } from \"react-bootstrap\";\nimport { combinations, min, sum } from \"mathjs\";\nimport _ from \"lodash\";\nimport KingdomSettings from \"./KingdomSettings\";\nimport KingdomDisplay from \"./KingdomDisplay\";\nimport { EXPANSIONS } from \"../lib/constants\";\nimport GenerateButton from \"./GenerateButton\";\n\nexport default function KingdomGenerator({ cards }) {\n  const [kingdom, setKingdom] = useState([]);\n  const [landscapes, setLandScapes] = useState([]);\n  const [expansions, setExpansions] = useState([]);\n  const [promos, setPromos] = useState([]);\n  const [usePlatinumColony, setUsePlatinumColony] = useState(false);\n  const [alert, setAlert] = useState('');\n  const [expansionAmts, setExpansionAmts] = useState(_.fromPairs(EXPANSIONS.map((name) => [name, ''])));\n\n  const availableCards = cards.filter((card) =>\n    isValidKingdomCard(card, true)\n    && (hasValidExpansion(card, expansions) || promos.includes(card.name))\n  );\n\n  const availableLandscapes = cards.filter((card) =>\n    isLandscape(card)\n    && (hasValidExpansion(card, expansions) || promos.includes(card.name))\n  );\n\n  const remainingCards = availableCards.filter((card) => !arrayIncludesCard(kingdom, card));\n  const remainingLandscapes = availableLandscapes.filter((card) => !arrayIncludesCard(landscapes, card));\n\n  const generateKingdom = () => {\n    if (sum(_.toPairs(expansionAmts).map(([exp, amt]) => (expansions.includes(exp) ? amt : 0))) > 10) {\n      setAlert('Kingdom can\\'t include more than 10 cards!')\n      return\n    }\n    const newKingdom = generateKingdomFromRules();\n    if (newKingdom.length < 10) {\n      setAlert('You need at least 10 kingdom cards!')\n      return\n    }\n    const newLandscapes = drawCards(availableLandscapes, min(2, availableLandscapes.length));\n    const leftovers = availableCards.filter((card) => !arrayIncludesCard(newKingdom, card));\n    setKingdom(addExtraCards(newKingdom, newLandscapes, leftovers));\n    setLandScapes(newLandscapes);\n    if (newKingdom.length > 0) {\n      setUsePlatinumColony(_.sample(newKingdom).expansion === 'Prosperity');\n    }\n  }\n\n  const generateKingdomFromRules = () => {\n    const newCards = [];\n    const extraExpansions = [];\n    _.toPairs(expansionAmts).forEach(([exp, amt]) => {\n      if (amt !== '') {\n        newCards.push(\n          ...drawCards(availableCards, +amt, ((card) => hasValidExpansion(card, [exp]) && !arrayIncludesCard(newCards, card)))\n        );\n      } else if (expansions.includes(exp)) {\n        extraExpansions.push(exp);\n      }\n    });\n    const leftovers = availableCards.filter((card) => !arrayIncludesCard(newCards, card));\n    return newCards.concat(drawCards(leftovers, 10 - newCards.length, ((card) => (hasValidExpansion(card, extraExpansions) || promos.includes(card.name)))));\n  }\n\n  const swapCard = (oldCard) => {\n    if (remainingCards.length < 10) {\n      setAlert('There are no available kingdom cards to swap!')\n      return\n    }\n    let newKingdom = kingdom.filter((card) => card.name !== oldCard.name);\n    if (oldCard.name === 'Young Witch') {\n      newKingdom = newKingdom.filter((card) => !card.bane);\n    }\n    if (!oldCard.bane && !oldCard.wotm) {\n      const [newCard] = drawCards(remainingCards, 1);\n      newKingdom.push(newCard);\n    }\n    setKingdom(addExtraCards(newKingdom, landscapes, remainingCards));\n  }\n\n  const swapLandscape = (oldCard) => {\n    if (remainingLandscapes.length < 10) {\n      setAlert('There are no available landscapes to swap!')\n      return\n    }\n    let newLandscapes = landscapes.filter((card) => card.name !== oldCard.name);\n    let newKingdom = kingdom;\n    if (oldCard.name === 'Way of the Mouse') {\n      newKingdom = newKingdom.filter((card) => !card.wotm);\n    }\n    const [newCard] = drawCards(remainingLandscapes, 1);\n    newLandscapes = [...newLandscapes, newCard];\n    setLandScapes(newLandscapes);\n    setKingdom(addExtraCards(newKingdom, newLandscapes, remainingCards));\n  }\n\n  const toggleExpansion = (name) => {\n    expansions.includes(name)\n    ? setExpansions(expansions.filter((exp) => exp !== name))\n    : setExpansions([...expansions, name])\n  }\n\n  const togglePromo = (name) => {\n    promos.includes(name)\n    ? setPromos(promos.filter((promo) => promo !== name))\n    : setPromos([...promos, name])\n  }\n\n  const platinumColony = cards.filter((card) => card.name === 'Platinum' || card.name === 'Colony').sort((a, b) => sortTwoCards(a, b, 'cost'));\n\n  return (\n    <>\n      <KingdomSettings\n        toggleExpansion={toggleExpansion}\n        togglePromo={togglePromo}\n        expansionAmts={expansionAmts}\n        setExpansionAmts={setExpansionAmts}\n      />\n      <br/>\n      <GenerateButton generateKingdom={generateKingdom} alert={alert} setAlert={setAlert}/>\n      <br/>\n      <br/>\n      <KingdomDisplay\n        kingdom={kingdom}\n        landscapes={landscapes}\n        swapCard={swapCard}\n        swapLandscape={swapLandscape}\n        usePlatinumColony={usePlatinumColony}\n        platinumColony={platinumColony}\n        blackMarketOptions={generateBlackMarket(cards, kingdom, promos, expansions)}\n      />\n      {((kingdom.length >= 10) && (availableCards.length > 10)) && (\n        <Alert variant=\"success\" style={{width: '50%', margin: 'auto', marginTop: 20, marginBottom: 20}}>\n          Don't like this kingdom? Luckily for you, there are over {2 * combinations(availableCards.length, 10) * ((availableLandscapes.length >= 2) ? combinations(availableLandscapes.length, 2) : 1)} different combinations to choose from!\n        </Alert>\n      )}\n    </>\n  )\n}\n","import logo from './images/logo.png';\nimport './styles/App.css';\nimport data from './data/dominion_cards.json';\nimport { useState } from 'react';\nimport CardSearcher from './components/CardSearcher';\nimport NavBar from './components/NavBar';\nimport KingdomGenerator from './components/KingdomGenerator';\n\nfunction App() {\n  const [cards] = useState(data);\n  const [page, setPage] = useState('generate');\n\n  return (\n    <div className=\"App\">\n      <img src={logo} alt=\"logo\"/>\n      <NavBar page={page} setPage={setPage}/>\n      <br/>\n      {(page === 'generate') && <KingdomGenerator cards={cards}/>}\n      {(page === 'browse') && <CardSearcher cards={cards}/>}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}